<!DOCTYPE html>
<html lang="ko" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>근태 관리</title>
    <link rel="stylesheet" href="/css/common.css">
    <link rel="stylesheet" href="/css/attendance.css">
    <script src="/js/calendar.js" defer></script>
    <script src="/js/logout-timer.js" defer></script>
    <script src="/js/attendance.js" defer></script>
</head>
<body>
<div class="dashboard-wrapper">
    <div th:replace="fragments/sidebar :: sidebar"></div>
    <div th:replace="fragments/topbar :: topbar"></div>
    <div th:replace="~{fragments/calendar :: calendar}"></div>

    <main class="main-content">
        <!-- 상단: 근태 현황 -->
        <section class="card-section">
            <h2>📆 근태 현황</h2>
            <div style="text-align: right; margin-top: 10px;">
                <button id="download-excel" class="btn">엑셀 다운로드</button>
            </div>
            <table class="attendance-table">
                <thead>
                    <tr>
                        <th rowspan="2">이름</th>
                        <th rowspan="2">투입일</th>
                        <th rowspan="2">해지일</th>
                        <th colspan="3" style="background-color: #fff4cc;">연차</th>
                        <th colspan="3" style="background-color: #e6f0ff;">대휴</th>
                        <th colspan="3" style="background-color: #edf7ed;">합계</th>
                    </tr>
                    <tr>
                        <th>부여</th><th>사용</th><th>잔여</th>
                        <th>부여</th><th>사용</th><th>잔여</th>
                        <th>부여</th><th>사용</th><th>잔여</th>
                    </tr>
                </thead>
                <tbody id="status-body"></tbody>
            </table>
        </section>

        <!-- 하단: 상세 내역 -->
        <section class="card-section">
            <h2>📋 상세 내역</h2>
            <div style="margin-bottom: 16px;">
                <div style="display: inline-block; margin-right: 12px;">
                    <label>📅 월 선택:
                        <select id="month-selector" class="btn"></select>
                    </label>
                </div>
                <button id="add-row" class="btn">행 추가</button>
                <button id="save-records" class="btn">저장</button>
                <button id="delete-selected" class="btn">선택 삭제</button>
            </div>
            <table class="attendance-table data-table">
                <thead>
                    <tr>
                        <th></th>
                        <th>이름</th>
                        <th>종류</th>
                        <th>시작일</th>
                        <th>종료일</th>
                        <th>일수</th>
                        <th>사유</th>
                    </tr>
                </thead>
                <tbody id="record-body"></tbody>
            </table>
        </section>
    </main>
</div>
</body>
</html>
